//// ----------------------------------------------------
//// > Table Definitions
//// ----------------------------------------------------

Table users {
  id bigserial [pk]
  full_name varchar(255) [not null]
  username varchar(100) [unique, not null]
  password_hash varchar(255) [not null]
  role user_role [not null, default: 'admin']
  created_at timestamp [not null, default: `now()`]
  updated_at timestamp [not null, default: `now()`]
  deleted_at timestamp
}

Table news {
  id bigserial [pk]
  title varchar(255) [not null]
  slug varchar(255) [unique, not null]
  content text [not null]
  featured_image_url varchar(255)
  status news_status [not null, default: 'draft']
  author_id bigint [not null]
  created_at timestamp [not null, default: `now()`]
  updated_at timestamp [not null, default: `now()`]
  deleted_at timestamp
}

Table village_officials {
  id bigserial [pk]
  name varchar(255) [not null]
  position varchar(255) [not null]
  photo_url varchar(255)
  bio text
  display_order int [not null, default: 0]
  created_at timestamp [not null, default: `now()`]
  updated_at timestamp [not null, default: `now()`]
  deleted_at timestamp
}

Table services {
  id bigserial [pk]
  service_name varchar(255) [not null]
  description text
  requirements text
  created_at timestamp [not null, default: `now()`]
  updated_at timestamp [not null, default: `now()`]
  deleted_at timestamp
}

Table potentials {
  id bigserial [pk]
  title varchar(255) [not null]
  description text
  cover_image_url varchar(255)
  type potential_type [not null, default: 'other']
  created_at timestamp [not null, default: `now()`]
  updated_at timestamp [not null, default: `now()`]
  deleted_at timestamp
}

Table site_settings {
  id bigserial [pk]
  setting_key varchar(100) [unique, not null]
  setting_value text
  setting_group varchar(50) [not null, default: 'general']
  created_at timestamp [not null, default: `now()`]
  updated_at timestamp [not null, default: `now()`]
  deleted_at timestamp
}

Table contacts {
  id bigserial [pk]
  name varchar(255) [not null]
  email varchar(255) [not null]
  subject varchar(255) [not null]
  message text [not null]
  created_at timestamptz [not null, default: `now()`]
  updated_at timestamptz [not null, default: `now()`]
  published_at timestamptz
  deleted_at timestamptz
}

//// ----------------------------------------------------
//// > Enum Definitions
//// ----------------------------------------------------

Enum user_role {
  superadmin
  admin
  author
}

Enum news_status {
  draft
  published
  archived
}

Enum potential_type {
  umkm
  tourism
  agriculture
  other
}

//// ----------------------------------------------------
//// > Relationships
//// ----------------------------------------------------

Ref: news.author_id > users.id
